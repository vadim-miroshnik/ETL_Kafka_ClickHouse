@startuml
skinparam componentStyle uml2
actor Admin
actor User
component AdminWebApp #lightgreen
component AsyncService #lightgreen
component AuthService #lightgreen
component ETL #lightgreen
database Postgres #yellow
database ElasticSearch #yellow
database Redis #yellow

Admin -> AdminWebApp: manage movies
AdminWebApp -down-> Postgres: CRUD movies
Postgres -down-> ETL: new movies & updates
ETL -down-> ElasticSearch: update indexes
ETL -> Redis: state storage

User -> AuthService: Login/Logout
AsyncService -> Redis: cache
AuthService -> Postgres: CRUD users/roles
Admin -> AuthService: manage roles
AuthService -down-> Redis: storage refresh-tokens
User -> AsyncService: search movies
AsyncService -> ElasticSearch: get movies

@enduml